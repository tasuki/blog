---
layout: post
title: 'Fun with TeX: Igo Hatsuyo-ron'
categories:
- go
- computers
comments:
- id: 25160
  author: Keo
  author_email: ''
  author_url: ''
  date: '2006-11-27 10:01:22 +0000'
  date_gmt: '2006-11-27 09:01:22 +0000'
  content: "Já zase nedávno dělal z wordovskýho dokumentu HTML. Samozřejmě za peníze,
    jinak bych do toho nešel. Uložil jsem to v Abiwordu jako HTML (exportuje líp než
    OO) a pak na to aplikoval následující skript clean.sed. Pak už to bylo skoro čistý
    HTML, jenom bylo potřeba přidat nadpisy, upravit odkazy atd. Hrůza.\n\n<code>\ns/\\&nbsp;/
    /g\ns/[ \\t]\\+/ /g\n\ns/]*&gt;//g\n\ns/]*&gt;//g\n\ns/xml:lang=\\\"[^\\\"]*\\\"//g\ns/lang=\\\"[^\\\"]*\\\"//g\ns/id=\\\"[^\\\"]*\\\"//g\n\ns/font-size:[0-9]\\+pt;\\?//g\ns/font-family:[^\\\";]*;\\?//g\ns/color:[^\\\";]*;\\?//g\ns/text-decoration:underline;\\?//g\ns/class=\\\"footnote_reference\\\"//g\n\ns/style=\\\"\\\"//g\n\ns/
    \\+&gt;/&gt;/g\n\n:top\n\ns/\\([^/\\1/g\nt top\n\ns/\\([^/<b>\\1/g\nt
    top\n\ns/\\([^/<i>\\1/g\nt top\n\ns/\\([^/<b><i>\\1/g\nt top\n\ns/\\([^/\\1/g\nt
    top\n\ns/\\(<a>]*&gt;[^\\)/\\1/g\n\ns/href=\\\"\\#footnote_ref-\\([0-9]*\\)\\\"/name=\\\"footnote_anchor-\\1\\\"/g\n\ns/„/\\&bdquo;/g\ns/“/\\&ldquo;/g\n\n:
    t2\n\ns/\\(\\&bdquo;\\)\\(]*&gt;\\)/\\2\\1/g\nt t2\ns/\\(]*&gt;\\)\\(\\&ldquo;\\)/\\2\\1/g\nt
    t2\n</code>"
- id: 25161
  author: Keo
  author_email: ''
  author_url: ''
  date: '2006-11-27 10:02:18 +0000'
  date_gmt: '2006-11-27 09:02:18 +0000'
  content: LOL, vypadá to, že Wordpress to nezvládl.
- id: 28951
  author: ''
  author_email: ''
  author_url: ''
  date: '2006-12-07 11:36:11 +0000'
  date_gmt: '2006-12-07 10:36:11 +0000'
  content: Me by dost zajimalo jak dlouhu jsi to delal… Budu se muset o prazdninach
    crhnout na TeX  ;)
- id: 28952
  author: Drc
  author_email: ''
  author_url: ''
  date: '2006-12-07 11:36:46 +0000'
  date_gmt: '2006-12-07 10:36:46 +0000'
  content: Anonym jsem ja… Uz zase... viz keo.cz
- id: 36630
  author: Ulrich
  author_email: ugroh@t-online.de
  author_url: ''
  date: '2006-12-24 08:48:58 +0000'
  date_gmt: '2006-12-24 07:48:58 +0000'
  content: "Sorry, but can you write down your reply in English please? Thanks. \n
    :x"
---
<p>It all started by me stumbling upon a text file containing all <a  href="http://www.xys.org/xys/ebooks/others/misc/fayanglun.txt">Igo Hatsuyo-ron problems</a>. Well, as you can see the format is not so great and encoding is obscure (GB2312). I used vim to transfer this garbage into something reasonable.</p>
<p>Now if you don't know what regular expressions are, read on, if you do know, skip a few dozens lines. :-)</p>
<blockquote><p>:%s/replaced thing/replacement/g</p></blockquote>
<p>The colon just tells vim that I'm going to write something longer after which I'll press enter, the "%" means all lines in the file, "s" means substitute, the slashes are used for separating the expressions (you can use something else too, but slashes are most common), and "g" means that you want to do all occurences (on (each) line).</p>
<blockquote><p>get rid of all the lines that are not diagrams…<br />
:%s/^[^┠┏┗○●].*//g<br />
no empty lines…<br />
:%s/^\n//g<br />
add some tex code before and after each diagram<br />
:%s/┏/}\\hfil\\break}\\bigskip\\vbox{\\vbox to 100 pt{\\hsize= 190 pt\\goo┏/g<br />
transfer the ascii goban into tex<br />
:%s/┏/\\0??<<br />
:%s/┯/\\0??(/g<br />
:%s/┓/\\0??><br />
:%s/┠/\\0??[<br />
:%s/┼/\\0??+/g<br />
:%s/┨/\\0??]<br />
:%s/┗/\\0??,<br />
:%s/┷/\\0??)/g<br />
:%s/┛/\\0??.<br />
transfer the stones<br />
:%s/●/\\- @+/g<br />
:%s/○/\\- !+/g<br />
very regular dents left – oups… forgot the star points...<br />
:%s/╋/\\0??*/g</p></blockquote>
<p>After this and adding a header we have a pretty much usable TeX code. There were a few things left to do – I found a few bumps because there were some letters in the diagrams, so I had to manually delete them (this was no big deal), I also found some duplicated problems and problems that shouldn't have even been there, I compared it to the <a  href="http://senseis.xmp.net/?IgoHatsuyoRonProblems">version on sensei's library</a>, and some <a  href="http://mignon.ddo.jp/assembly/mignon/go05/hatuyoron/index.html">japanese site using java</a>. This was much worse, having to manually go through the problems (I admit I cheated a bit, I put eight problems on a page and only checked each eighth and if it was same I proceeded).</p>
<p>After finally having all and exactly the 183 problems that I wanted, I went to writing whose turn it was (duh, should have done that before, when checking) and change the sizes of the go boards so that it would fit nicely on the page. This was quite tiring, especially the repetitive process of checking "white to move" and "black to move" (I checkedgroups of four and tried to remember it, I was on the verge of my brain's memory limits – trying to remember BWBW, or WBBB, or something similar for just a few seconds). Fitting diagrams aws a bit like solving a puzzle, so I enjoyed it much more.</p>
<p>And I cheated with the front page Japanese characters… I copied them from sensei's library into OpenOffice, made the page small enough, and exported into pdf. Then used \pdfximage to embed it... Anyone knows how to do this better?</p>
<p><strong>Well, that's about it. Now you can download & print the entire <a  href="http://tasuki.tasuki.org/stuff/hatsuyoron.pdf">Igo Hatsuyo-ron collection</a> (and it's for free, kids).</strong></p>
<p>If, for some reason, you think that the problems are a bit too much for you, go with the Encyclopedia of Lifa and Death, that I made almost two years ago. There are 3 volumes with almost 1000 problems each (the creation of that collection was pretty much only automatical, I could never process such an amount (3000) by hand). Ok, links, finally: <a  href="http://tasuki.tasuki.org/stuff/cho-1-elementary.pdf">elementary problems</a>, <a  href="http://tasuki.tasuki.org/stuff/cho-2-intermediate.pdf">intermediate problems</a>, <a  href="http://tasuki.tasuki.org/stuff/cho-3-advanced.pdf">advanced problems</a>.</p>
<p>You shouldn't use old (4,5, maybe even 6 (dunno, I use evince or xpdf anyway)) acrobat reader for viewing these pdfs, as I didn't manage to convert the bloody metafont fonts into anything better like type1 or ttf (any help? anyone volunteering?), so they are included as bitmaps, which sucks.</p>
