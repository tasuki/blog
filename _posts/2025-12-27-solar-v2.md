---
layout: post
title: Solar v2
---

<script>
function cssColorToHex(cssColorString) {
  const canvas = document.createElement('canvas');
  canvas.width = 1;
  canvas.height = 1;
  const ctx = canvas.getContext('2d', { willReadFrequently: true });
  ctx.fillStyle = cssColorString;
  ctx.fillRect(0, 0, 1, 1);
  const data = ctx.getImageData(0, 0, 1, 1).data;
  return (`#${data[0].toString(16).padStart(2, '0')}`
         + `${data[1].toString(16).padStart(2, '0')}`
         + `${data[2].toString(16).padStart(2, '0')}`
         ).toUpperCase();
}

function tileColor(tile) {
  const style = window.getComputedStyle(tile);
  return cssColorToHex(
    tile.classList.contains('back') ?
      style.backgroundColor : style.color
  );
}

function isIllegal(color) {
  const hex = color.replace('#', '').toLowerCase();
  const r = hex.substring(0, 2);
  const g = hex.substring(2, 4);
  const b = hex.substring(4, 6);
  return [r, g, b].some(channel => channel === '00' || channel === 'ff');
}

function makeJson(name, hues, keys) {
  const hueList = keys.map((key) => {
    return JSON.stringify({
      "name": key,
      "colors": hues[key],
    });
  }).join("\n  , ");
  return `
{ "name": "${name}"
, "hues":
  [ ${hueList}
  ]
}`.trim();
}

function appendHues(qs, name, hues, rowNames) {
  const pre = document.createElement('pre');
  pre.classList.add('highlight');
  pre.textContent = makeJson(name, hues, rowNames);
  document.querySelector(qs).replaceChildren(pre);
}

document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.solar2tile').forEach((tile) => {
    tile.innerHTML = '<tt>' + tileColor(tile) + '</tt>';
  });

  const hues = {};
  document.querySelectorAll('.solargroup').forEach((group) => {
    const name = group.getAttribute('data-name');
    const backgroundColor = cssColorToHex(window.getComputedStyle(group).backgroundColor);
    const tiles = [...group.querySelectorAll('.solar2tile')];
    hues[name] = [backgroundColor, ...tiles.map(tileColor)];
  });

  appendHues('#solar2-backgrounds', 'backgrounds', hues, ["dtl", "ltd"]);
  appendHues('#solar2-colours', 'colours-sorted', hues, ["db", "dh", "lc", "dc", "lh", "lb"]);
});
</script>

<style>
.solar2tile { float: left; margin: 0 0 5px 5px; line-height: 30px; width: 30px; height: 105px; writing-mode: vertical-lr; transform: rotate(180deg); }
.solar2tile tt { padding: 5px; }
</style>

I've [previously tweaked Solarized to my tastes](/solar/). I feel that was a pretty clearcut improvement. This attempt is a lot braver:
- Light and dark versions that both work.
- Slightly higher contrast, both between the colours and with the background.
- Warmer shades of gray, yay!
- More custom colours (hijacks the colour cube ðŸ˜±).


### Light

Shades of gray, colours, optional backgrounds, and even more optional hi-vis backgrounds:

<div style="background: oklch(98% 0.025  90);" class="solargroup" data-name="dtl">
<span class="solar2tile front" style="color: oklch(26% 0.049 210);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(32% 0.047 200);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(44% 0.043 180);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(56% 0.039 160);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(68% 0.035 140);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(80% 0.031 120);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(86% 0.029 110);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(92% 0.027 100);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(98% 0.025  90);"><tt>xoxoxo</tt></span>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(98% 0.025 90);" class="solargroup" data-name="lc">
<div class="solar2tile front" style="color: oklch(56% 0.039 160);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(62% 0.15   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(64% 0.13   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(64% 0.15  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(64% 0.12  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(60% 0.14  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(58% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(58% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(98% 0.025 90);" class="solargroup" data-name="lb">
<div class="solar2tile back" style="background: oklch(93% 0.027 100); color: oklch(56% 0.039 160);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.03   20); color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.04   55); color: oklch(62% 0.15   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(95% 0.06   90); color: oklch(64% 0.13   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(95% 0.08  120); color: oklch(64% 0.15  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(95% 0.06  175); color: oklch(64% 0.12  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.03  245); color: oklch(60% 0.14  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.03  280); color: oklch(58% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.04  340); color: oklch(58% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(94% 0.03   20); color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(98% 0.025 90);" class="solargroup" data-name="lh">
<div class="solar2tile back" style="background: oklch(86% 0.029 110); color: oklch(56% 0.039 160);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.06   20); color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.07   55); color: oklch(62% 0.15   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(88% 0.09   90); color: oklch(64% 0.13   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(88% 0.11  120); color: oklch(64% 0.15  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(88% 0.09  175); color: oklch(64% 0.12  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.06  245); color: oklch(60% 0.14  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.06  280); color: oklch(58% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.07  340); color: oklch(58% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(87% 0.06   20); color: oklch(58% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

### Dark

<div style="background: oklch(26% 0.049 210);" class="solargroup" data-name="ltd">
<span class="solar2tile front" style="color: oklch(98% 0.025  90);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(92% 0.027 100);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(86% 0.029 110);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(80% 0.031 120);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(68% 0.035 140);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(56% 0.039 160);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(44% 0.043 180);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(32% 0.047 200);"><tt>xoxoxo</tt></span>
<span class="solar2tile front" style="color: oklch(26% 0.049 210);"><tt>xoxoxo</tt></span>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(26% 0.049 210);" class="solargroup" data-name="dc">
<div class="solar2tile front" style="color: oklch(80% 0.031 120);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(70% 0.17   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(72% 0.14   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(72% 0.16  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(72% 0.13  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(68% 0.16  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(66% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(66% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile front" style="color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(26% 0.049 210);" class="solargroup" data-name="db">
<div class="solar2tile back" style="background: oklch(32% 0.047 200); color: oklch(80% 0.031 120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.07   20); color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.06   55); color: oklch(70% 0.17   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.05   90); color: oklch(72% 0.14   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(37% 0.08  120); color: oklch(72% 0.16  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(38% 0.07  175); color: oklch(72% 0.13  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(37% 0.09  245); color: oklch(68% 0.16  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.07  280); color: oklch(66% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.07  340); color: oklch(66% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(33% 0.07   20); color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

<div style="background: oklch(26% 0.049 210);" class="solargroup" data-name="dh">
<div class="solar2tile back" style="background: oklch(44% 0.043 180); color: oklch(80% 0.031 120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.10   20); color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.09   55); color: oklch(70% 0.17   55);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.08   90); color: oklch(72% 0.14   90);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(44% 0.11  120); color: oklch(72% 0.16  120);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(45% 0.10  175); color: oklch(72% 0.13  175);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(44% 0.12  245); color: oklch(68% 0.16  245);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.10  280); color: oklch(66% 0.17  280);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.10  340); color: oklch(66% 0.20  340);"><tt>xoxoxo</tt></div>
<div class="solar2tile back" style="background: oklch(40% 0.10   20); color: oklch(66% 0.22   20);"><tt>xoxoxo</tt></div>
<div style="clear: both;"></div>
</div>

<details markdown="1">
<summary>Interested in exploring the colours in OKLCH?</summary>

The following are snippets you can paste to [Huetone](https://huetone.ardov.me/). Dark-to-light and light-to-dark backgrounds:

<div id="solar2-backgrounds"><tt>Enable JavaScript to see this.</tt></div>

The various colours:

<div id="solar2-colours"><tt>Enable JavaScript to see this.</tt></div>
</details>

### Why?

I like the feel of the [original Solarized colour theme](https://ethanschoonover.com/solarized/). I just wanted more and better:

- Slightly better separation of colours. The original had red and orange right next to each other.
- Slightly higher contrast. It's impossible to have good contrast when the colours are the same on both the dark and light backgrounds.
- Coloured backgrounds. For like git history & stuff?

**Why not selenized?**

[Selenized](https://github.com/jan-warchol/selenized) has had a lot of work put into it. However: I don't like the green (too cold), and I did miss the orange and the purple. Yes it's good to [preserve the semantics of terminal colours](https://github.com/jan-warchol/selenized/blob/9a753d5c575c48e29eeb2be745d9571b4cec42b3/whats-wrong-with-solarized.md#better-terminal-compatibility). Had I not already worked around Solarized hijacking the "bright" colours, I would've preferred this.

### What?

- The "authoritative" colours are in [the OKLCH colourspace](https://oklch.com/#0.93,0.23,123,100), view source here or [see GitHub](https://github.com/tasuki/blog/edit/master/_posts/2025-12-27-solar-v2.md). The hex colours are displayed for your convenience.
- Kitty themes: [light](https://github.com/tasuki/dotrc/blob/2025/.config/kitty/solar-light.conf) and [dark](https://github.com/tasuki/dotrc/blob/2025/.config/kitty/solar-dark.conf). They hijack parts of the colour cube (colours 16-231) to provide coloured backgrounds.
- A relatively short [Vim/Neovim theme](https://github.com/tasuki/dotrc/blob/2025/.vim/colors/solar.vim) supporting Tree-sitter, Vimwiki, and some other stuff I use. Requires a true color terminal with `set termguicolors`.

The original Solarized (left) and my previous improvements (right):

<div class="wide">
<img alt="solarized comparison" src="/assets/2024/solarized-improvements.webp" />
</div>

And these new ones, light (left) and dark (right):

<div class="wide">
<img alt="solar2 comparison" src="/assets/2025/solar2.webp" />
</div>
